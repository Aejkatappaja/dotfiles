unbind r
bind r source-file ~/.config/tmux/tmux.conf;

set -g mouse on

set -g allow-rename on

bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1
setw -g monitor-activity on
set-option -g status-left-length 200
set-option -g status-left " #{session_name}  "
set-option -g status-right " "
set-option -g status-style "bg=default"
set-option -g status-position bottom

# set-option -g window-status-format "#{window_index}:#{window_name}#{window_flag} "
# set-option -g window-status-current-format "#{window_index}:#{window_name}#{window_flag} "
# set-option -g window-status-current-style "fg=#BC9AF7"
# set-option -g window-status-last-style "fg=#9ECD6A"
# # Status line customisation
set-option -g status-left-length 200
set-option -g status-left " #{session_name}  "
# add git branch to status line
set-option -g status-style "bg=default"
set -g status-right "#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD) "
set-option -g window-status-format "#{window_index}:#{window_name}#{window_flags} "
set-option -g window-status-current-format "#{window_index}:#{window_name}#{window_flags} "
set-option -g window-status-current-style "fg=#e1a345"
set-option -g window-status-last-style "fg=#936a2e"
set-option -g window-status-activity-style none

set -g status-justify left

set -g renumber-windows on

bind-key -T prefix t set-option -g status

##### Display Popups #####

bind y display-popup -d "#{pane_current_path}" -w 80% -h 80% -E "lazygit"
bind j display-popup -E "tmux list-sessions | sed -E 's/:.*$//' | grep -v \"^$(tmux display-message -p '#S')\$\" | fzf --reverse | xargs tmux switch-client -t"
bind z display-popup \
  -w 80% \
  -h 80% \
  -E 'nvim ~/.zshrc'
